# ==============================================================================
# MCP Zimbra - Configurazione Ambiente
# ==============================================================================

# ==============================================================================
# CONFIGURAZIONE SERVER (necessaria SOLO se il server gira localmente)
# In produzione, queste variabili saranno SOLO sul server remoto
# Usa prefisso SERVER_ per chiarezza (supporta anche nomi legacy senza prefisso)
# ==============================================================================

# Master Encryption Key - 32 byte random key per cifrare le chiavi derivate degli utenti
# ATTENZIONE: Questa chiave è CRITICA per la sicurezza. Non condividerla mai!
# Genera con: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
SERVER_MASTER_ENCRYPTION_KEY=your_base64_master_key_here

# Credenziali Admin UI
SERVER_ADMIN_USER=admin
SERVER_ADMIN_PASSWORD=changeme_in_production

# Porte
SERVER_HTTP_PORT=3456
SERVER_ADMIN_PORT=3457

# ==============================================================================
# CONFIGURAZIONE CLIENT (necessaria SEMPRE per ogni utente)
# Ogni utente deve configurare la propria email e password
# Usa prefisso CLIENT_ per chiarezza (supporta anche nomi legacy senza prefisso)
# ==============================================================================

# Email dell'utente (deve esistere in users.json)
CLIENT_USER_EMAIL=user@example.com

# Password dell'utente (quella generata dall'Admin UI)
CLIENT_USER_PASSWORD=your_password_here

# ==============================================================================
# NOTA PER DEPLOYMENT
# ==============================================================================
#
# SETUP LOCALE (tutto su un'unica macchina):
# Configura nel file claude_desktop_config.json sotto "env":
#   {
#     "SERVER_MASTER_ENCRYPTION_KEY": "...",
#     "SERVER_ADMIN_USER": "admin",
#     "SERVER_ADMIN_PASSWORD": "...",
#     "SERVER_HTTP_PORT": "3456",
#     "SERVER_ADMIN_PORT": "3457",
#     "CLIENT_USER_EMAIL": "tuo@email.it",
#     "CLIENT_USER_PASSWORD": "tua_password"
#   }
#
# SETUP PRODUZIONE (server remoto condiviso):
#
# SERVER (.env sul server):
#   SERVER_MASTER_ENCRYPTION_KEY=...
#   SERVER_ADMIN_USER=admin
#   SERVER_ADMIN_PASSWORD=...
#   SERVER_HTTP_PORT=3456
#   SERVER_ADMIN_PORT=3457
#
# CLIENT (claude_desktop_config.json):
#   {
#     "CLIENT_USER_EMAIL": "tuo@email.it",
#     "CLIENT_USER_PASSWORD": "tua_password"
#   }
#
# In produzione, ogni utente ha le proprie credenziali nel suo config locale.
# Il server verifica l'identità e mostra SOLO le email di quell'utente.
# ==============================================================================
